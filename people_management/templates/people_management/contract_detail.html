{% extends 'dashboard/base.html' %}

{% block content %}
    <div class="container mt-5">
        <h2 class="text-center mb-4">Contract Details</h2>

        <div class="card shadow-lg p-3 rounded">
            <ul class="list-group list-group-flush">
                <li class="list-group-item">
                    <strong>Person:</strong> {{ contract.person }}
                </li>
                <li class="list-group-item">
                    <strong>Job Title:</strong> {{ contract.job_title }}
                </li>
                <li class="list-group-item">
                    <strong>Contract Start:</strong> {{ contract.contract_start }}
                </li>
                <li class="list-group-item">
                    <strong>Contract End:</strong> {{ contract.contract_end }}
                </li>
                <li class="list-group-item">
                    <strong>Hourly Rate:</strong> RM {{ contract.hourly_rate }}
                </li>
                <li class="list-group-item">
                    <strong>Contracted Hours:</strong> {{ contract.contracted_hours }}
                </li>
            </ul>

            <div class="mt-3 pe-3">
                <div class="d-flex justify-content-end gap-2">

                <!-- Back button (always allowed) -->
                <button type="button" class="btn btn-outline-secondary" onclick="history.back();">
                    Back
                </button>

                {# Edit/Delete ONLY for System Admin OR HR Admin #}
                {% if request.user.is_staff or request.user.is_superuser or person and person.role == "hr_admin" %}
                    <a href="{% url 'people_management:update_contract' pk=contract.id %}"
                        class="btn btn-outline-secondary">
                        Edit
                    </a>
                    <a href="{% url 'people_management:delete_contract' pk=contract.id %}"
                        class="btn btn-outline-danger">
                        Delete
                    </a>
                {% endif %}
                </div>
            </div>
        </div>
        
    </div>
{% endblock %}
